为了提供一个完善的、端对端的参考存储体系结构—— Storage Performance Development Kit（SPDK）应运而生。SPDK 已经证明很容易达到每秒钟数百万次 I/O 读取，通过使用多个处理器核心和多个 NVMe  SSD 进行存储，而不需要额外的硬件。SPDK 在 BSD license 许可协议下通过 Github 分发提供其全部的 Linux 参考架构的源代码。博客、邮件列表、文档和社区参与都可以在http://www.spdk.io 中找到。 
12、SPDK 软件体系结构 
SPDK 如何工作？达到这样的超高性能运用了两个关键技术：运行于用户态和轮询模式。让我们进一步了解这两个软件工程术语。 
首先，我们的设备驱动代码运行在用户态。这意味着，根据定义，驱动代码不会在内核中运行。避免内核上下文切换和中断可以节省大量的处理开销，从而允许更多的时钟周期被用来做实际的数据存储。无论存储算法（去冗，加密，压缩，空白块存储）多么复杂，浪费更少的时钟周期意味着更好的性能和很低的延迟。这并不是说内核会增加不必要的开销；相反，内核增加了那些可能不适用于专用存储堆栈的通用计算用例相关的开销。SPDK 的指导原则是通过减少每一处额外的软件开销来达到最低时延和最高效率。 
其次，轮询模式驱动（Polled Mode Drivers, PMDs）改变了 I/O 的基本模
型。在传统的 I/O 模型中，应用程序提交读写请求后睡眠，一旦 I/O 完成，中断就会将其唤醒。PMDs 的工作方式则不同，应用程序提交读写请求后继续执行其他工作，以一定的时间间隔回过头来检查 I/O 是否已经完成。这种方式避免了中断带来的延迟和开销，并使得应用程序提高 I/O 的效率。在旋转设备时代（磁带和机械硬盘），中断开销只占整个 I/O 时间的很小的比例，因此给系统带来了巨大的效率提升。然而，在固态设备的时代，持续引入更低延迟的持久化设备，中断开销已然成为了整个 I/O 时间中不能被忽视的部分。这个问题在更低延迟的设


> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbOTc2MDA5NjFdfQ==
-->